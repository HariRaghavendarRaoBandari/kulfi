OASISFormat: 0.4
Name:        kulfi
Version:     0.1
Synopsis:    Traffic engineering framework.
Authors:     Kulfi team
License:     LGPL-3.0
Plugins:     META (0.4), StdFiles (0.4), DevFiles (0.4)

BuildTools: ocamlbuild    

Library routing
  Path: routing
  Modules:   
    Kulfi_Routing,
    Kulfi_Traffic,
    Kulfi_Util
  BuildDepends:
   ocamlgraph,
   threads,
   sexplib.syntax,
   sexplib,
   frenetic

Library util
  Path: util
  CSources:
    time_stubs.c
  if system(linux)
    CCLib:
      -lrt
  Modules:
    RunningStat,
    Kulfi_Time
BuildDepends:
    async,
    core,
    camlp4,
    threads

Library controller
  Path: controller
  Modules:
    Kulfi_Controller
  InternalModules:
    Kulfi_Fabric
  BuildDepends:
   async,
   frenetic,
   frenetic.async,
   ocamlgraph,
   routing,
   sexplib.syntax,
   sexplib,
   threads,
   util

Executable kulfi
  Install: False
  Build$: flag(is_native)
  Path:   kulfi
  MainIs: Kulfi.ml
  CompiledObject: native
  BuildDepends:
    controller,
    routing

Executable simulator
  Install: False
  Build$: flag(is_native)
  Path:   simulate
  MainIs: Simulate_Driver.ml
  CompiledObject: native
  BuildDepends:
    ocamlgraph,
    frenetic,
    routing,
    util

Executable unittest
 Install: false
 Build$: flag(is_native)
 Path:       test
 MainIs:     Test.ml
 CompiledObject: native
 BuildDepends:
   oUnit,
   pa_ounit,
   pa_ounit.syntax,
   routing,
   util
